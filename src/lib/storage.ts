import NeuralNetwork from "./nn";

export class LocalStorageManager {
    // Store an object in local storage
    static saveObject(key: string, object: NeuralNetwork): void {
        try {
            const serializedObject = object.serialize()
            console.log("serializedObject")
            console.log(serializedObject)
            localStorage.setItem(key, serializedObject);
        } catch (error) {
            console.error('Error saving object to local storage', error);
        }
    }

    // Retrieve an object from local storage
    static getObject(key: string): NeuralNetwork {
        try {
            const serializedObject = localStorage.getItem(key);
            if (serializedObject === null) {
                return null;
            }
            return NeuralNetwork.deserialize(serializedObject);
        } catch (error) {
            console.error('Error retrieving object from local storage', error);
            return null;
        }
    }

    static loadPredefined(){
        const stored = {"input_nodes":24,"hidden_nodes":19,"output_nodes":14,"weights_ih":{"rows":19,"cols":24,"data":[[-1.1252315235902008,-0.12818837731219695,1.374848896668458,-0.024276834820680104,3.871499230769926,-1.3498929759631202,2.885537688956082,1.52888115814481,-0.07306556299318218,1.8035413882638993,-0.07106618900816238,-2.0766712718316955,0.8115149401350602,0.6268787075470434,-1.9248728624888867,3.456736003106627,0.6306498609598459,-0.4731963670763216,-5.079377159128646,-1.8973126016593558,4.940167154325552,-3.539763904403782,-1.7208086703465049,1.6848387050795393],[0.7891104379914915,2.0640323494271864,-0.4481860462722574,-6.130916860242811,-2.43350659379757,-0.9163858190718135,-2.025644587426182,0.8864643125799373,4.420481134804294,0.14627216220935993,2.084306060304125,1.2944449259130575,-0.8583859787164443,3.488335384274086,4.859393328221295,-2.035779596757957,1.9229442390603113,-3.0151467624996475,2.212247142569011,-3.719690687529225,-0.16300641930262988,-0.5843279351785273,-1.0099765561177692,-1.0860029060692122],[0.6096980613713546,2.1419611429492935,-2.190989383277886,-3.2869597435228135,-0.5035117089560432,-0.13992992156418793,1.042715324089855,2.5011010656820836,6.095523439546651,2.198060645090913,0.7246486389574653,-1.2478380769007014,-0.35125031487098757,3.8456250242752685,-2.2221292802923553,0.048167643669211,4.3994272228374625,0.3609576250652101,0.635106793764289,-1.13278077451492,-2.41747985849722,-1.7001209905232328,0.8887369690981562,4.795418015575012],[-2.721901933464131,2.563958808523718,-0.6071224045192268,1.769300318210147,-1.3158220446613709,-4.065568773467653,2.7072763364740307,0.5206469198299181,1.6076928524308947,0.9643730239475956,2.015615562416035,-2.6760654794606187,-1.364141006100242,-1.4689683156465687,-0.36534356385840633,4.0924667666612535,2.100587356780843,-1.2415508492476452,-1.7751052508214096,0.3897247317995354,-0.11016022252436419,1.7694044163345566,-2.9004661635983426,1.9970888242572498],[1.3117135923627503,2.927843624100976,0.9205195739954123,-3.16812513947565,5.835026820366456,3.2319485574004054,-4.906510513933245,-2.4548092193057096,-0.8974497548860249,2.195358134864605,-1.2234914601556044,-3.536410022686772,-3.573148642789012,3.215530919490104,0.8546642317124613,-9.095545846697227,-6.793326736171245,2.4042253477623,-3.5501029054577944,6.019323885756038,-0.620519476369547,-3.243938253267767,0.35258874173165505,0.18057860814913285],[0.6211973165053135,5.4055664421811125,1.5924002818231373,1.2550668716068547,-0.6871773982257244,0.140508677953317,1.1427424927600103,3.0668760488204674,-0.6999809321317029,5.21343488074627,-1.9386521284614515,-2.3423156323917507,-0.2351878949272636,1.2895089215717075,1.8233783994159198,0.3731353032408913,-3.0422762426488683,-4.510420593156362,4.625003659775861,-3.148412893081441,-0.760876141844301,3.210711096791011,-4.0747581278634755,1.806321053687338],[6.761506643769225,-3.55125622293905,-3.57208933502784,-2.933829822232556,4.420935493951665,-0.9878347191883707,1.7084234140077192,1.743297576639778,4.009907852313577,-3.611116028058381,0.5695443884293008,1.3481580651428475,0.5704617122071175,-2.7354011974662855,-6.575811303640628,1.5665995110826176,-6.347414292554792,1.8607804215068042,-2.7814613069434397,-3.182796390485304,-4.061257961148819,-0.1034862917654576,1.9937322741168586,0.6292299151451363],[0.8126979818663445,-1.7858389662763934,-0.2958154633807824,-0.6867478555136498,-0.15310180303337584,2.5237751291345885,-4.636091892079627,-0.7029747432397947,-1.2482030212284172,1.5107543270955075,0.6656258133038725,0.5591794067634276,-0.17359926441536458,1.277686973732365,-0.4877513872353608,-2.8810000493998933,2.458828598274813,2.3247841985957036,-1.9284973753809977,1.3435340389172403,-2.777310435365838,0.07474835979082944,-3.103967823402558,1.9211344173688665],[1.223670677751232,3.21300402518092,2.1233628917119654,-3.3811621375473035,-0.8908997359821922,-2.1758355486943706,-1.0998151896086312,2.5392258253456124,3.772653346607302,2.912025163427729,-1.7936157810620426,-3.2993839797451967,-3.5306250438679907,-1.352313233255195,0.82202758717959,-1.3751895664217684,-0.6017578059339039,-0.8175863533719244,0.1887772858704329,2.282516571888953,-3.7754491083124475,2.6392116313776226,-1.5461107212734593,2.2202060117777944],[0.08147269662135509,0.4785245589165985,3.331382018086312,-3.811727500978328,-0.13758486639052647,3.22091119305409,3.0120912187458195,-2.2150946990989535,0.3481715735943317,2.272156026069949,-1.6909136980889554,-0.1517173824950389,3.7398135435430917,0.5757001705136491,-0.6687431475080383,-0.7338059289811973,-6.848790411764808,-7.070345828417418,6.1080911952641275,1.2957765292703467,1.5722747822711423,2.2216457728564842,-0.23198842112899298,4.692611125628494],[0.7714443728072262,-2.700227449737855,-1.3327017710794538,-3.0460994563568886,0.3087645833039334,4.4283950908183085,2.0031267593675364,2.8420018610712474,-1.9540995740807248,2.0584774038583693,-3.312967627227249,-0.15402620008229995,-1.3788295967946453,0.0770147935933273,1.433981099042131,-2.3327521043761994,0.7603005852039866,-2.5225313353481416,0.5198921301642114,-4.656660962344519,-2.9029978300749466,-1.2820979272236284,-2.304477212810164,0.34160756261177005],[-2.0226661384520677,-3.1060877895099783,0.45513499812244096,4.3589979524169875,1.2541678489189503,1.933883434540581,0.3291330922350013,2.4097630997518538,1.8573401751331529,3.1821764193860322,0.5261683362720398,-1.6254985690376615,-6.570860726049683,1.1266284377137428,1.5038478412941512,-1.0783608720808586,-1.3838982549692525,-4.181293777195412,5.083746926768124,-1.0429177295100662,-0.7534174883957929,3.3362845572089164,-2.5052055933446864,4.136345483328121],[0.10323446091489014,-0.8466004519953307,-0.4079042177977066,-2.90629209163331,-6.58605307813296,-1.824274979064219,0.8075960703767526,-2.166968524734759,0.3153036922889685,2.827016620100858,5.231247632358577,1.0228507334994192,-1.2469656173285735,0.5511751342510398,-1.3036381834261286,-0.6249596257559284,2.4820548119168606,5.792203221754919,-3.378647687906053,-3.5079607650265396,6.290157894356497,0.5419784079726668,-1.4496029188135426,-3.8944053469087296],[0.9463306582964928,-2.6887429497337014,2.709755089121997,-1.9893214096967333,-8.732351978558999,0.9853228021696528,-1.3778944871691856,1.595902681210102,-0.285695138240083,3.9612372699928735,-0.3661773232835591,-1.3269234835316244,3.6751376943056986,-1.5843432082136495,-0.05116612378091817,-2.9413122499667863,0.9599332373052596,2.2419294057747208,-1.450022206974151,-1.1402598930473795,2.564956037196555,0.2533118637701531,1.7158806962738686,3.2849045277300837],[4.277247489757952,-3.1771152726572622,1.2954067681421568,-3.048073976198909,0.8323811675199683,-9.443187232927812,3.287480969502185,2.268941500950805,-2.471558282756474,6.322947235598894,-2.354091249901737,-0.43612320463181187,-1.0346997654569308,2.774831394652784,1.7439263785053671,-4.869359561941821,-1.2110180130904826,-3.5797052332555177,-5.139279545671776,-1.3768745873640607,-3.741939324279686,-2.766427618656946,-0.22026192392089278,2.5689282243503864],[0.7641407154965404,3.7061020386349437,-0.7452459623769494,2.0678181607008814,-0.5044900644631896,-2.0098553583818926,5.846475973426026,-2.405699891849894,-1.4226252182544832,3.797914993754418,-4.549002600940599,0.5008886409888262,-2.3280171794588504,-2.7205266804373025,-1.5687607816559312,-1.9038296577897302,-0.909869970326867,-2.115165995492454,0.8072590535368658,-6.656668038905765,4.329340799192957,4.691227050426492,3.2731130819945395,4.699263470237873],[-0.6642066541303262,6.809248776843456,3.856901782549242,-0.5296807140863626,5.256912153120871,-4.977819107937795,0.6628762628220689,4.307826356814137,-2.6666307315297457,-1.0473590545753697,-2.4356575811265166,-1.3471060483799666,1.7644432450840883,0.13341138784257778,-2.0869973564763145,0.06679126720771389,2.6612906520077972,2.260962831504108,-1.2173095952723516,-0.09253557461845632,3.4792020724397097,-0.033687618221560856,-4.188972006634124,0.352120961885799],[0.31530847077977003,-0.8310351113120608,-2.858148896580428,-2.5367461403286446,4.470705967395093,2.1140635621552475,7.065788177949017,-1.7402119352145884,-3.2109032095616423,-2.0666444346789676,4.752249292722808,2.560260564446872,-0.4465422009278419,0.9237994007211632,-2.227827917706472,1.7663149561288831,2.8279209336051503,-1.8100756547090282,-2.9681210400144744,1.1297737282334188,6.368577341218204,1.4947029588088678,1.523787579500151,0.6262974501101677],[-1.1572372218806368,1.4696689073855134,0.642217935346087,-4.3642198569633885,-1.861997097285077,0.6372657405505775,2.318011020955142,0.07764125601049598,-4.973478569026804,0.18156653514027724,4.825258150079608,-3.2687853720254836,3.5309476026484328,-0.8196966357412294,0.21280374483893605,0.4666241475691256,4.021131214494622,-2.6172111148003205,1.95655946501279,-2.1247362668090153,-5.91486539433554,-4.055735969902349,1.2710875184432913,1.692625035003802]]},"weights_ho":{"rows":14,"cols":19,"data":[[0.9007856164963435,-0.2713126467111856,-0.06641949488111962,-3.53755976224437,-1.5415227711509116,0.4742870091053999,-3.8007538335204982,1.2334373116031354,-0.1391143080729651,-0.1427329186871599,0.859634875504306,3.244369887060429,-1.6585005136372688,-0.895370187964017,-1.1775930029267734,-3.2855970761566216,-1.4446053119096778,0.7950142759356974,-0.18125388934725714],[-0.1101337733597314,2.0621050475489304,-1.5964094078255398,-0.805840072786078,-0.9797462393323985,-0.29688541826957027,-5.578982130404823,-2.26742312388181,2.8291172190939413,4.247111243626213,2.037531960886677,-2.1418150432645833,2.897175358744796,-0.34234103574293284,-0.5991348240048021,0.32234936165938755,-3.0811852822785495,1.6005786542624858,-1.9889629160897933],[0.6150675305997001,-0.03564191016784912,0.7627060879089342,-1.6439196028695768,4.010363197979229,1.9216855144196656,-0.3012269326090039,2.466941690806915,2.6819507601367056,-1.305597736966754,1.8403329473399759,-0.08103975488223605,-2.394340453956392,1.9048332451149395,-0.2553769824619673,-3.189153555182863,-0.599824906869119,-1.9058325362407107,3.2715463958822095],[0.9173589191210556,2.560559800122728,-2.8236178792251936,-1.5452174968548977,0.400085425801863,-2.60223702432618,-2.239320300483513,-3.600068725920216,-0.8477070807528841,-0.11408310835659002,0.01841127468868936,-0.5264821160752131,-4.8438095778344215,-0.07860217748009846,-0.32876461779544863,1.381319548135282,-0.023290615456107194,1.2253979765539287,-1.1573902612433733],[5.062309681693901,3.4971570658802413,-2.016251496000888,1.0844198286081599,2.178310763895395,-3.589381880317943,-2.13065004540674,-4.10904847217351,4.614606554133173,-1.178913387586406,-0.09935642596901717,-3.8374289399571055,3.158148655163374,1.7005289509961998,1.8076269067859225,0.13112357148294618,2.119417022154819,0.5097930428208557,-2.097608855817643],[7.825969719208954,4.672464824007597,1.2304352419177573,-1.9774799869839683,-4.528468268608581,-4.0752011538631745,1.8983433887142869,-0.9868926992943781,0.08530595114960662,4.070621696437459,-0.3157090154143426,3.0912646105913124,-0.7533059243931517,-4.570008612603125,0.5269383569590115,-2.796912342707635,-0.1230110746409517,4.947211057794011,1.0339066890933781],[-1.0176011746784879,-3.7232325589885513,-2.7259341319333177,1.2325046876062642,-1.4261338886338386,-4.696366381067505,0.16838505168239326,0.5083911460084447,4.923674711672498,2.495761783958139,0.5519948156816267,-0.3411961612963848,-2.099528662723573,2.343244549007253,-1.9667499323307815,-0.9780922713655897,-1.5317069553621967,-4.3004690637041225,-2.202043105616692],[-4.501463818857655,-2.393069051466963,0.8512971003167017,2.7396364135367386,-1.6379556361052883,-3.117849551901086,-3.327327231456397,-1.1514062432191228,6.311756543336491,-1.3632664512780708,-3.140888735345305,-3.2181532278037057,2.919632320714174,-1.7339094608811836,3.3437465953982874,-0.8127931459170474,-1.5810025298907624,-6.0058710184929955,4.560946249513441],[6.308140356253536,1.6533655609647542,3.126748813757007,4.354050935791158,2.380009001307777,4.252299956825395,-1.0132950636179392,-3.4217406144973914,-0.6360134704320491,-2.130026849258248,-0.7844728372281297,-4.888257503493338,2.8293858236872844,1.5283878296240934,-3.7872940565772457,-0.27233001908791027,1.6617002352447756,-0.37743464234352775,-0.8972562562870755],[-2.3132083307421847,-6.89088775984392,3.9503311919933926,0.21245296125855684,4.187791569677083,-2.5168638362239237,2.2653744513378538,-0.35437691722678194,0.5297311699477438,-4.735050863370339,3.1913784091046877,0.7776436100577091,0.7472682510440771,-0.9388982955154781,-3.9684248127299737,1.0567085064638273,-1.438047639190744,-2.5776334821659583,2.4784977965600765],[-0.5013585458792624,-0.9128254030105074,1.7063381703978693,0.3481515808411496,2.8759341442864823,-1.512029298078175,0.7475234352186978,1.996671370287074,-0.4213395217153233,-1.3381155373274916,3.650057041387515,0.03696872145385122,4.966505538779673,-5.55750406467572,-0.23267697348027275,0.8967843687808662,2.706148669166736,-0.3372788251663826,-1.0533249038748518],[2.18286687746261,-4.937792035470198,4.8289955892992715,-5.846731787248528,1.514268365094346,-3.9341982776397506,-2.996418765179039,5.581509141390687,-2.925029553254511,0.08986818731586244,2.8204309907589518,0.6339571164934552,3.272174319788515,-1.9095904828378982,1.2390002486066876,6.101267316991808,4.460014970164215,-0.3277250506311976,7.023763494144995],[0.0015510382425572011,0.29750965723384837,1.9151132750251816,4.366131683826957,0.4109888385437443,0.5878483685087283,2.1859387906011203,3.1200953782345087,1.4874917886268664,2.6035297934748374,2.4643761790015497,-2.794811360966421,-5.6176423656486865,0.7421522076246649,2.816936153897021,-3.3258121137939467,-5.923243509084852,2.933099889534577,-2.2120560280717196],[3.883143202716976,-2.059719797966596,1.4887577944506414,1.0983814284922924,-1.757928354920868,0.5874854721044365,0.5457763488676539,0.12990453494832,-6.739160905261144,2.4681148675256015,5.505999532323009,2.06307007159478,-1.0880595861783473,-2.596655373724181,1.9298017358769193,-0.9044686552574956,-4.188620782356541,-3.2701990427709355,0.3667079198012172]]},"bias_h":{"rows":19,"cols":1,"data":[[0.358977959497533],[2.0020612021122313],[-1.5207851376931347],[-1.6369849838908386],[5.986245579605039],[-3.7781004991351086],[-0.21092980273261694],[1.8763034127505447],[-1.2714787075265006],[-0.054941968384762924],[-5.007341437497241],[0.711906652177782],[0.25077188181827353],[-5.409854926937578],[2.5423585036770184],[1.5140910153585487],[0.16638544791983367],[-0.11455869126891571],[-2.413527750080141]]},"bias_o":{"rows":14,"cols":1,"data":[[0.5243026595752827],[-5.329384259661841],[-1.45592468925624],[2.8071163525968124],[1.1722095538725545],[-0.19302217879740363],[2.2038912911780013],[1.3915193082748565],[1.1211207672915753],[-1.022583074629544],[3.1895996708743475],[-4.7283792092908286],[-4.8947410284343205],[-0.6032478645334425]]},"learning_rate":0.1,"activation_function":{}}
        return NeuralNetwork.deserialize(stored);
    }
}
